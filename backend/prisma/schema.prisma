generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum WalletRole {
  ISSUER
  TREASURY
}

model Wallet {
  id        String     @id @default(cuid())
  role      WalletRole @unique
  address   String     @unique
  seed      String
  createdAt DateTime   @default(now())
}

enum BondStatus {
  DRAFT
  PUBLISHED
}

model Bond {
  id             String     @id @default(cuid())
  name           String
  description    String
  code           String     @unique
  currencyCode   String?
  totalTokens    Int
  status         BondStatus @default(DRAFT)
  profitRate     Float

  issuerAddress   String
  treasuryAddress String

  createdAt      DateTime   @default(now())
}

model User {
  id            String   @id @default(cuid())
  email         String   @unique
  walletAddress String   @unique
  walletSeed    String
  createdAt     DateTime @default(now())
}
